<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('head'); -%>
    <!-- Include Quill stylesheet -->
    <link href="/css/quill.snow.css" rel="stylesheet">
    <link href="//cdn.quilljs.com/1.3.6/quill.core.css" rel="stylesheet">
  </head>
  <body id="page-top">
    <div id="edit-events" class="container">
      <h3><a href="/admin-home">Home</a> / <a href="/admin-news-and-events">Manage News and Events</a> / Edit News and Events</h3>
      <form action="/edit-events-request/<%= econtent.uuid %>" method="post" enctype="multipart/form-data">
        <div class="inputs-group">
          <div class="row">
            <div class="col-lg-2 col-sm-12">
              Type
            </div>
            <div class="col-lg-10 col-sm-12">
              :
              <select id="eType" name="eType">
                <option id="opNews" value="news">News</option>
                <option id="opEvents" value="events">Events</option>
                <option id="opQuestionaire" value="questionaire">Questionaire</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-2 col-sm-12">
              Image
            </div>
            <div class="col-lg-10 col-sm-12">
              : <img src="/public/uploads/<%= econtent.img %>" alt="" width="700px">
              <input type="file" placeholder="Image" name="eImage" accept="image/png, image/jpeg">
            </div>
          </div>
          <div class="row">
            <div class="col-lg-2 col-sm-12">
              Title
            </div>
            <div class="col-lg-10 col-sm-12">
              : <input type="text" placeholder="Title" name="eTitle" value="<%= econtent.title %>" required>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-2 col-sm-12">
              Author
            </div>
            <div class="col-lg-10 col-sm-12">
              : <input type="text" placeholder="Author" name="eAuthor" value="<%= econtent.author %>" required>
            </div>
          </div>
        </div>
        <!-- Create the toolbar container -->
        <div id="toolbar">
        </div>
        <!-- Create the editor container -->
        <div id="editor">
          <%- econtent.contents -%>
        </div>
        <%= typeof ermes != 'undefined' ? ermes : '' %>
        <br>
        <input onclick="contentChange()" type="submit" class="btn btn-prime" value="Submit">
        <input type="hidden" id="input-editor" value="" name="eContent">
        <input type="hidden" id="input-editor" value="<%= econtent.img %>" name="eOldImg">
      </form>
      <br>
      <br>
      <a class="btn btn-prime" href="/logout">Logout</a>
      <br>
      <br>
    </div>
    
    <!--/ Section Contact-Footer Star /-->
    <!-- JavaScript Libraries -->
    <script src="/lib/jquery/jquery.min.js"></script>
    <script src="/lib/jquery/jquery-migrate.min.js"></script>
    <script src="/lib/popper/popper.min.js"></script>
    <script src="/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="/lib/easing/easing.min.js"></script>
    <script src="/lib/counterup/jquery.waypoints.min.js"></script>
    <script src="/lib/counterup/jquery.counterup.js"></script>
    <script src="/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="/lib/lightbox/js/lightbox.min.js"></script>
    <script src="/lib/typed/typed.min.js"></script>
    
    <!-- Contact Form JavaScript File -->
    <script src="/contactform/contactform.js"></script>
    <!-- Template Main Javascript File -->
    <script src="/js/main.js"></script>
    <!-- Initialize Quill editor -->
    <!-- Include the Quill library -->
    <script src="https://cdn.quilljs.com/1.0.0/quill.js"></script>
    <script>
    var toolbarOptions = [
    ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
    ['blockquote', 'code-block'],
    [{ 'header': 1 }, { 'header': 2 }],               // custom button values
    [{ 'list': 'ordered'}, { 'list': 'bullet' }],
    [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript
    [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent
    [{ 'direction': 'rtl' }],                         // text direction
    [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
    [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme
    [{ 'font': ['sans serif','monospace'] }],
    [{ 'align': [] }],
    ['clean']                                         // remove formatting button
    ];
    var editor = new Quill('#editor', {
    modules: { toolbar: toolbarOptions },
    theme: 'snow'
    });
    function contentChange(){
    var eContent = $('#editor').html();
    $('#input-editor').val(eContent);
    };
    //Type Select initial value
    var eTypeVal = "<%= econtent.etype %>";
    switch (eTypeVal) {
      case "events":
      $("#eType #opEvents").attr("selected", "selected");
      break;
      case "news":
      $("#eType #opNews").attr("selected", "selected");
      break;
      case "questionaire":
      $("#eType #opQuestionaire").attr("selected", "selected");
    }
    //
    </script>
    <!--/ Section Contact-footer End /-->
  </body>
</html>